use ezAcquireTransfer
go

create table ConvertData (

---- MET doc data

    Form_UID        varchar(10) NOT NULL,-- 表單序號
    Version         smallint NOT NULL,   -- 版本

---- Docs
    Doc_UID         varchar(10),        -- 文件序號
    DocType         varchar(8),         -- 文件類別
    DocNo           varchar(32),        -- 文件編號

---- Doc_Attrubutes
    CaseType        varchar(6),         -- 作業類別代碼
    CaseNo          varchar(32),        -- 作業受理(結案)編號
    PolicyNo        varchar(20),        -- 保單號碼
    ClaimNo         varchar(9),         -- 理賠案號
    OwnerID         varchar(255),       -- 經辦人
    OwnerGroupID     varchar(255),       -- 經辦單位
    PolicyholderID  varchar(255),       -- 要保人 ID
    InsuredID       varchar(255),       -- 被保險人 ID
    ExtendDate      datetime,
    StartDate       datetime,
    EndDate         datetime,
    CloseDate       datetime,
    ReturnClass     varchar(2),
    ARDate          datetime,
    AccidentDate    datetime,
    LoanDate        datetime,
    PayDate         datetime,

---- Forms
    FormID          varchar(10),
    Deleted         bit,

---- Forms_Attributes
    Pages           smallint,
    CreateDate      datetime,

---- Page_Attributes
    Page_UID        varchar(10),
    DelNote         varchar(255),
    FilingType      tinyint,
    FilingNo        varchar(255),
    FilingDate      datetime,
    FilingModBy     varchar(255),
    FilingModDate   datetime,
    DelDate         datetime,
    DelBy           varchar(255),
    BatchNo         varchar(255),
    ScanBy          varchar(255),
    ScanDate        datetime,
    QCBy            varchar(255),
    SignPage        bit,

---- ezAcquire Transfer working column
    TransferGroup           int,
    DocumentId              NVARCHAR(50),
    ezAcquireSHA1           NVARCHAR(MAX),
    ezAcquireFormId         NVARCHAR(50),
    ezAcquireStatus         NVARCHAR(10),   -- Y/N

    ezAcquireIR_DT          datetime,
    ezAcquireIR_Status      NVARCHAR(10),   -- Y/N
    ezAcquireDB_DT          datetime,
    ezAcquireDB_Status      NVARCHAR(10),   -- Y/N

    ConvertStatus           NVARCHAR(10),   -- S1 ~ S5

    METFilePath             NVARCHAR(MAX),  -- local folder path
    METSHA1                 NVARCHAR(MAX),
    METStatus               NVARCHAR(10),   -- Y/N
    SHA1Status              NVARCHAR(20),   -- Y/N

    CONSTRAINT [PK_TransferData] PRIMARY KEY CLUSTERED (
        Form_UID, Version
    )
) on [Primary]

go

create NONCLUSTERED INDEX ix_CaseDoc on ConvertData
(
    CaseType, CaseNo, DocType, DocNo
)

create NONCLUSTERED INDEX ix_ConvertStatus on ConvertData
(
    ConvertStatus
)

go 
